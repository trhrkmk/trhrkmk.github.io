<!doctype html><html><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.83.1"><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/site.webmanifest><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/reseter.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.3/new.min.css><link rel=stylesheet href=https://www.trhrkmk.com/css/syntax.css><link rel=stylesheet href=https://www.trhrkmk.com/css/custom.css><title>Debian Stretch(GNOME)に最新のFirefoxをインストールしてアイコンも作成する | Scrapbook</title><link rel=canonical href=https://www.trhrkmk.com/posts/debian-stretch-install-firefox-latest/><meta name=description content="  "><body><div id=wrapper><header><div class=head__inner><h1><a href=https://www.trhrkmk.com/>Scrapbook</a></h1></div></header><div id=content><main><section class=entry><h2>Debian Stretch(GNOME)に最新のFirefoxをインストールしてアイコンも作成する</h2><p>ご存知の通りDebian Stretch(GNOME)には、<code>Firefox ESR</code>が入っています。</p><p>今回は、<strong>Firefox ESR</strong>ではなく、最新の<strong>Firefox</strong>をインストールするときのメモ。</p><h2 id=ダウンロード>ダウンロード</h2><p><a href=https://www.mozilla.org/ja/firefox/>Firefox</a>からダウンロードします。</p><p><img src=./firefox-latest-1.webp alt=firefox title=firefox></p><p>任意の場所に保存してください。
今回は<code>Downloads</code>として進めます。</p><p>Downloadsに<code>firefox-61.0.2.tar.bz2</code>(バージョン番号は気にせず…)がダウンロードされると思います。</p><h2 id=展開>展開</h2><p>展開します。</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=nb>cd</span> ~/Downloads
Downloads $ tar xf firefox-61.0.2.tar.bz2
</code></pre></div><p>展開すると、こんな感じだと思います。</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>Downloads $ ls -la
total <span class=m>57788</span>
drwxr-xr-x  <span class=m>3</span> teruhirokomaki teruhirokomaki     <span class=m>4096</span> Aug <span class=m>28</span> 20:10 .
drwxr-xr-x <span class=m>28</span> teruhirokomaki teruhirokomaki     <span class=m>4096</span> Aug <span class=m>28</span> 20:32 ..
drwxr-xr-x  <span class=m>9</span> teruhirokomaki teruhirokomaki     <span class=m>4096</span> Aug <span class=m>28</span> 11:20 firefox
-rw-r--r--  <span class=m>1</span> teruhirokomaki teruhirokomaki <span class=m>52674082</span> Aug <span class=m>28</span> 11:07 firefox-61.0.2.tar.bz2
</code></pre></div><h2 id=optに移動>optに移動</h2><p><code>firefox</code>を<code>opt</code>に移動します。</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>Downloads $ sudo cp -r firefox /opt/
<span class=o>[</span>sudo<span class=o>]</span> password <span class=k>for</span> user
</code></pre></div><p><code>opt</code>を見てみます。</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>Downloads $ ls -la /opt/
total <span class=m>16</span>
drwxr-xr-x  <span class=m>4</span> root root <span class=m>4096</span> Aug <span class=m>28</span> 20:37 .
drwxr-xr-x <span class=m>23</span> root root <span class=m>4096</span> Aug <span class=m>28</span> 10:14 ..
drwxr-xr-x  <span class=m>9</span> root root <span class=m>4096</span> Aug <span class=m>28</span> 20:37 firefox
drwxr-xr-x  <span class=m>3</span> root root <span class=m>4096</span> Aug <span class=m>28</span> 10:45 google
</code></pre></div><h2 id=デスクトップアイコンの作成>デスクトップアイコンの作成</h2><p>デスクトップアイコンを作成します。</p><p>いちから作成するのは面倒くさいので、既存の<code>Firefox ESR</code>を複製して使います。</p><p>デスクトップアイコンは、以下にあります。</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>applications $ <span class=nb>pwd</span>
/usr/share/applications
applications $ ls
bluetooth-sendto.desktop         gnome-chess.desktop                   gnome-user-accounts-panel.desktop  openjdk-8-policytool.desktop           quadrapassel.desktop
brasero.desktop                  gnome-color-panel.desktop             gnome-user-share-webdav.desktop    org.gnome.baobab.desktop               rhythmbox.desktop
brasero-nautilus.desktop         gnome-control-center.desktop          gnome-wacom-panel.desktop          org.gnome.Books.desktop                rhythmbox-device.desktop
ca.desrt.dconf-editor.desktop    gnome-datetime-panel.desktop          goldendict.desktop                 org.gnome.Calendar.desktop             rygel.desktop
caffeine.desktop                 gnome-disk-image-mounter.desktop      google-chrome.desktop              org.gnome.Characters.desktop           scim-setup.desktop
caffeine-indicator.desktop       gnome-disk-image-writer.desktop       gvim.desktop                       org.gnome.Cheese.desktop               seahorse.desktop
debian-reference-common.desktop  gnome-display-panel.desktop           iagno.desktop                      org.gnome.ChromeGnomeShell.desktop     setup-mozc.desktop
debian-uxterm.desktop            gnome-info-panel.desktop              ibus-setup.desktop                 org.gnome.clocks.desktop               shotwell.desktop
debian-xterm.desktop             gnome-keyboard-panel.desktop          ibus-setup-hangul.desktop          org.gnome.ColorProfileViewer.desktop   shotwell-viewer.desktop
display-im6.q16.desktop          gnome-klotski.desktop                 icedove.desktop                    org.gnome.Contacts.desktop             simple-scan.desktop
eog.desktop                      gnome-mahjongg.desktop                icedtea-netx-javaws.desktop        org.gnome.Dictionary.desktop           simplescreenrecorder.desktop
evince.desktop                   gnome-mimeapps.list                   im-config.desktop                  org.gnome.DiskUtility.desktop          slack.desktop
evince-previewer.desktop         gnome-mines.desktop                   inkscape.desktop                   org.gnome.Documents.desktop            software-properties-drivers.desktop
evolution-calendar.desktop       gnome-mouse-panel.desktop             itweb-settings.desktop             org.gnome.FileRoller.desktop           software-properties-gnome.desktop
evolution.desktop                gnome-music.desktop                   kasumi.desktop                     org.gnome.font-viewer.desktop          software-properties-gtk.desktop
fcitx-config-gtk3.desktop        gnome-network-panel.desktop           khmerconverter.desktop             org.gnome.gedit.desktop                swell-foop.desktop
fcitx-configtool.desktop         gnome-notifications-panel.desktop     libreoffice-base.desktop           org.gnome.Hitori.desktop               synaptic.desktop
fcitx.desktop                    gnome-online-accounts-panel.desktop   libreoffice-calc.desktop           org.gnome.Logs.desktop                 tali.desktop
fcitx-skin-installer.desktop     gnome-power-panel.desktop             libreoffice-draw.desktop           org.gnome.Maps.desktop                 thunderbird.desktop
firefox-esr.desktop              gnome-printers-panel.desktop          libreoffice-impress.desktop        org.gnome.Nautilus.desktop             tracker-needle.desktop
five-or-more.desktop             gnome-privacy-panel.desktop           libreoffice-math.desktop           org.gnome.Nibbles.desktop              tracker-preferences.desktop
four-in-a-row.desktop            gnome-region-panel.desktop            libreoffice-startcenter.desktop    org.gnome.Polari.desktop               transmission-gtk.desktop
gcm-calibrate.desktop            gnome-robots.desktop                  libreoffice-writer.desktop         org.gnome.Screenshot.desktop           uim.desktop
gcm-import.desktop               gnome-search-panel.desktop            libreoffice-xsltfilter.desktop     org.gnome.Shell.desktop                vim.desktop
gcm-picker.desktop               gnome-sharing-panel.desktop           lightsoff.desktop                  org.gnome.Shell.PortalHelper.desktop   vinagre.desktop
gcr-prompter.desktop             gnome-shell-extension-prefs.desktop   mimeinfo.cache                     org.gnome.Software.desktop             vinagre-file.desktop
gcr-viewer.desktop               gnome-software-local-file.desktop     mlterm.desktop                     org.gnome.SoundRecorder.desktop        vino-server.desktop
geoclue-where-am-i.desktop       gnome-sound-panel.desktop             mutt.desktop                       org.gnome.taquin.desktop               xiterm+thai.desktop
ghcal.desktop                    gnome-sudoku.desktop                  mutter.desktop                     org.gnome.Terminal.desktop             yelp.desktop
gimp.desktop                     gnome-system-monitor.desktop          nautilus-autorun-software.desktop  org.gnome.Totem.desktop                zeal.desktop
gkbd-keyboard-display.desktop    gnome-system-monitor-kde.desktop      nautilus-classic.desktop           org.gnome.Weather.Application.desktop
gnome-background-panel.desktop   gnome-tetravex.desktop                nm-applet.desktop                  org.keepassxc.KeePassXC.desktop
gnome-bluetooth-panel.desktop    gnome-tweak-tool.desktop              nm-connection-editor.desktop       python2.7.desktop
gnome-calculator.desktop         gnome-universal-access-panel.desktop  notification-daemon.desktop        python3.5.desktop
</code></pre></div><p>複製します。</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>applications $ sudo cp firefox-esr.desktop firefox.desktop
</code></pre></div><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>applications $ sudo vim firefox.desktop
</code></pre></div><p>この中を適当に修正します。</p><p><code>Exec=/usr/lib/firefox-esr/firefox-esr %u</code>のパスを修正すればよいだけだと思います。</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=o>[</span>Desktop Entry<span class=o>]</span>
<span class=nv>Name</span><span class=o>=</span>Firefox ESR
Name<span class=o>[</span>bg<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>ca<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>cs<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>el<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>es<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>fa<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span><span class=k>fi</span><span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>fr<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>hu<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>it<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>ja<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>ko<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>nb<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>nl<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>nn<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>no<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>pl<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>pt<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>pt_BR<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>ru<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>sk<span class=o>]=</span>Firefox ESR
Name<span class=o>[</span>sv<span class=o>]=</span>Firefox ESR
<span class=nv>Comment</span><span class=o>=</span>Browse the World Wide Web
Comment<span class=o>[</span>bg<span class=o>]=</span>Сърфиране в Мрежата
Comment<span class=o>[</span>ca<span class=o>]=</span>Navegueu per el web
Comment<span class=o>[</span>cs<span class=o>]=</span>Prohlížení stránek World Wide Webu
Comment<span class=o>[</span>de<span class=o>]=</span>Im Internet surfen
Comment<span class=o>[</span>el<span class=o>]=</span>Περιηγηθείτε στον παγκόσμιο ιστό
Comment<span class=o>[</span>es<span class=o>]=</span>Navegue por la web
Comment<span class=o>[</span>fa<span class=o>]=</span>صفحات شبکه جهانی اینترنت را مرور نمایید
Comment<span class=o>[</span><span class=k>fi</span><span class=o>]=</span>Selaa Internetin WWW-sivuja
Comment<span class=o>[</span>fr<span class=o>]=</span>Navigue sur Internet
Comment<span class=o>[</span>hu<span class=o>]=</span>A világháló böngészése
Comment<span class=o>[</span>it<span class=o>]=</span>Esplora il web
Comment<span class=o>[</span>ja<span class=o>]=</span>ウェブを閲覧します
Comment<span class=o>[</span>ko<span class=o>]=</span>웹을 돌아 다닙니다
Comment<span class=o>[</span>nb<span class=o>]=</span>Surf på nettet
Comment<span class=o>[</span>nl<span class=o>]=</span>Verken het internet
Comment<span class=o>[</span>nn<span class=o>]=</span>Surf på nettet
Comment<span class=o>[</span>no<span class=o>]=</span>Surf på nettet
Comment<span class=o>[</span>pl<span class=o>]=</span>Przeglądanie stron WWW 
Comment<span class=o>[</span>pt<span class=o>]=</span>Navegue na Internet
Comment<span class=o>[</span>pt_BR<span class=o>]=</span>Navegue na Internet
Comment<span class=o>[</span>ru<span class=o>]=</span>Обозреватель Всемирной Паутины
Comment<span class=o>[</span>sk<span class=o>]=</span>Prehliadanie internetu
Comment<span class=o>[</span>sv<span class=o>]=</span>Surfa på webben
<span class=nv>GenericName</span><span class=o>=</span>Web Browser
GenericName<span class=o>[</span>bg<span class=o>]=</span>Интернет браузър
GenericName<span class=o>[</span>ca<span class=o>]=</span>Navegador web
GenericName<span class=o>[</span>cs<span class=o>]=</span>Webový prohlížeč
GenericName<span class=o>[</span>de<span class=o>]=</span>Webbrowser
GenericName<span class=o>[</span>el<span class=o>]=</span>Περιηγητής ιστού
GenericName<span class=o>[</span>es<span class=o>]=</span>Navegador web
GenericName<span class=o>[</span>fa<span class=o>]=</span>مرورگر اینترنتی
GenericName<span class=o>[</span><span class=k>fi</span><span class=o>]=</span>WWW-selain
GenericName<span class=o>[</span>fr<span class=o>]=</span>Navigateur Web
GenericName<span class=o>[</span>hu<span class=o>]=</span>Webböngésző
GenericName<span class=o>[</span>it<span class=o>]=</span>Browser Web
GenericName<span class=o>[</span>ja<span class=o>]=</span>ウェブ・ブラウザ
GenericName<span class=o>[</span>ko<span class=o>]=</span>웹 브라우저
GenericName<span class=o>[</span>nb<span class=o>]=</span>Nettleser
GenericName<span class=o>[</span>nl<span class=o>]=</span>Webbrowser
GenericName<span class=o>[</span>nn<span class=o>]=</span>Nettlesar
GenericName<span class=o>[</span>no<span class=o>]=</span>Nettleser
GenericName<span class=o>[</span>pl<span class=o>]=</span>Przeglądarka WWW
GenericName<span class=o>[</span>pt<span class=o>]=</span>Navegador Web
GenericName<span class=o>[</span>pt_BR<span class=o>]=</span>Navegador Web
GenericName<span class=o>[</span>ru<span class=o>]=</span>Интернет-браузер
GenericName<span class=o>[</span>sk<span class=o>]=</span>Internetový prehliadač
GenericName<span class=o>[</span>sv<span class=o>]=</span>Webbläsare
X-GNOME-FullName<span class=o>=</span>Firefox ESR Web Browser
X-GNOME-FullName<span class=o>[</span>bg<span class=o>]=</span>Интернет браузър <span class=o>(</span>Firefox ESR<span class=o>)</span>
X-GNOME-FullName<span class=o>[</span>ca<span class=o>]=</span>Navegador web Firefox ESR
X-GNOME-FullName<span class=o>[</span>cs<span class=o>]=</span>Firefox ESR Webový prohlížeč
X-GNOME-FullName<span class=o>[</span>el<span class=o>]=</span>Περιηγήτης Ιστού Firefox ESR
X-GNOME-FullName<span class=o>[</span>es<span class=o>]=</span>Navegador web Firefox ESR
X-GNOME-FullName<span class=o>[</span>fa<span class=o>]=</span>مرورگر اینترنتی Firefox ESR
X-GNOME-FullName<span class=o>[</span><span class=k>fi</span><span class=o>]=</span>Firefox ESR-selain
X-GNOME-FullName<span class=o>[</span>fr<span class=o>]=</span>Navigateur Web Firefox ESR
X-GNOME-FullName<span class=o>[</span>hu<span class=o>]=</span>Firefox ESR webböngésző
X-GNOME-FullName<span class=o>[</span>it<span class=o>]=</span>Firefox ESR Browser Web
X-GNOME-FullName<span class=o>[</span>ja<span class=o>]=</span>Firefox ESR ウェブ・ブラウザ
X-GNOME-FullName<span class=o>[</span>ko<span class=o>]=</span>Firefox ESR 웹 브라우저
X-GNOME-FullName<span class=o>[</span>nb<span class=o>]=</span>Firefox ESR Nettleser
X-GNOME-FullName<span class=o>[</span>nl<span class=o>]=</span>Firefox ESR webbrowser
X-GNOME-FullName<span class=o>[</span>nn<span class=o>]=</span>Firefox ESR Nettlesar
X-GNOME-FullName<span class=o>[</span>no<span class=o>]=</span>Firefox ESR Nettleser
X-GNOME-FullName<span class=o>[</span>pl<span class=o>]=</span>Przeglądarka WWW Firefox ESR
X-GNOME-FullName<span class=o>[</span>pt<span class=o>]=</span>Firefox ESR Navegador Web
X-GNOME-FullName<span class=o>[</span>pt_BR<span class=o>]=</span>Navegador Web Firefox ESR
X-GNOME-FullName<span class=o>[</span>ru<span class=o>]=</span>Интернет-браузер Firefox ESR
X-GNOME-FullName<span class=o>[</span>sk<span class=o>]=</span>Internetový prehliadač Firefox ESR
X-GNOME-FullName<span class=o>[</span>sv<span class=o>]=</span>Webbläsaren Firefox ESR
<span class=nv>Exec</span><span class=o>=</span>/usr/lib/firefox-esr/firefox-esr %u
<span class=nv>Terminal</span><span class=o>=</span><span class=nb>false</span>
X-MultipleArgs<span class=o>=</span><span class=nb>false</span>
<span class=nv>Type</span><span class=o>=</span>Application
<span class=nv>Icon</span><span class=o>=</span>firefox-esr
<span class=nv>Categories</span><span class=o>=</span>Network<span class=p>;</span>WebBrowser<span class=p>;</span>
<span class=nv>MimeType</span><span class=o>=</span>text/html<span class=p>;</span>text/xml<span class=p>;</span>application/xhtml+xml<span class=p>;</span>application/xml<span class=p>;</span>application/vnd.mozilla.xul+xml<span class=p>;</span>application/rss+xml<span class=p>;</span>application/rdf+xml<span class=p>;</span>image/gif<span class=p>;</span>image/jpeg<span class=p>;</span>image/png<span class=p>;</span>x-scheme-handler/http<span class=p>;</span>x-scheme-handler/https<span class=p>;</span>
<span class=nv>StartupWMClass</span><span class=o>=</span>Firefox-esr
<span class=nv>StartupNotify</span><span class=o>=</span><span class=nb>true</span>
</code></pre></div><p>編集しましたので、diffを。</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>applications $ colordiff -u firefox-esr.desktop firefox.desktop
--- firefox-esr.desktop 2018-06-26 18:33:25.000000000 -0400
+++ firefox.desktop     2018-08-28 20:47:09.339156963 -0400
@@ -1,5 +1,5 @@
 <span class=o>[</span>Desktop Entry<span class=o>]</span>
-Name<span class=o>=</span>Firefox ESR
+Name<span class=o>=</span>Firefox
 Name<span class=o>[</span>bg<span class=o>]=</span>Firefox ESR
 Name<span class=o>[</span>ca<span class=o>]=</span>Firefox ESR
 Name<span class=o>[</span>cs<span class=o>]=</span>Firefox ESR
@@ -10,7 +10,7 @@
 Name<span class=o>[</span>fr<span class=o>]=</span>Firefox ESR
 Name<span class=o>[</span>hu<span class=o>]=</span>Firefox ESR
 Name<span class=o>[</span>it<span class=o>]=</span>Firefox ESR
-Name<span class=o>[</span>ja<span class=o>]=</span>Firefox ESR
+Name<span class=o>[</span>ja<span class=o>]=</span>Firefox
 Name<span class=o>[</span>ko<span class=o>]=</span>Firefox ESR
 Name<span class=o>[</span>nb<span class=o>]=</span>Firefox ESR
 Name<span class=o>[</span>nl<span class=o>]=</span>Firefox ESR
@@ -93,12 +93,12 @@
 X-GNOME-FullName<span class=o>[</span>ru<span class=o>]=</span>Интернет-браузер Firefox ESR
 X-GNOME-FullName<span class=o>[</span>sk<span class=o>]=</span>Internetový prehliadač Firefox ESR
 X-GNOME-FullName<span class=o>[</span>sv<span class=o>]=</span>Webbläsaren Firefox ESR
-Exec<span class=o>=</span>/usr/lib/firefox-esr/firefox-esr %u
+Exec<span class=o>=</span>/opt/firefox/firefox %u
 <span class=nv>Terminal</span><span class=o>=</span><span class=nb>false</span>
 X-MultipleArgs<span class=o>=</span><span class=nb>false</span>
 <span class=nv>Type</span><span class=o>=</span>Application
 <span class=nv>Icon</span><span class=o>=</span>firefox-esr
 <span class=nv>Categories</span><span class=o>=</span>Network<span class=p>;</span>WebBrowser<span class=p>;</span>
 <span class=nv>MimeType</span><span class=o>=</span>text/html<span class=p>;</span>text/xml<span class=p>;</span>application/xhtml+xml<span class=p>;</span>application/xml<span class=p>;</span>application/vnd.mozilla.xul+xml<span class=p>;</span>application/rss+xml<span class=p>;</span>application/rdf+xml<span class=p>;</span>image/gif<span class=p>;</span>image/jpeg<span class=p>;</span>image/png<span class=p>;</span>x-scheme-handler/http<span class=p>;</span>x-scheme-handler/https<span class=p>;</span>
-StartupWMClass<span class=o>=</span>Firefox-esr
+StartupWMClass<span class=o>=</span>Firefox
 <span class=nv>StartupNotify</span><span class=o>=</span><span class=nb>true</span>
</code></pre></div><p>これで普通に使えると思います。</p><p><img src=./firefox-latest-2.webp alt=firefox title=firefox></p><p>起動しましょう。</p><p><img src=./firefox-latest-3.webp alt=firefox title=firefox></p></section></main></div><footer><div class=foot__inner><p class=copyright>Copyright © 2019-2021 Teruhiro Komaki <a href=https://twitter.com/trhrkmk>@trhrkmk</a></p></div></footer></div></body></html>