<!doctype html><html><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=generator content="Hugo 0.83.1"><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/reseter.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@exampledev/new.css@1.1.3/new.min.css><link rel=stylesheet href=https://www.trhrkmk.com/css/syntax.css><link rel=stylesheet href=https://www.trhrkmk.com/css/custom.css><title>FMPerceptionで使われていないフィールドやスクリプトを削除する時のメモ | trhrkmk.com</title><link rel=canonical href=https://www.trhrkmk.com/posts/filemaker-fmperception-check-unreferenced/><meta name=description content="  "><body><div id=wrapper><header><div class=head__inner><h1><a href=https://www.trhrkmk.com>trhrkmk.com</a></h1></div></header><div id=content><main><section class=entry><h2>FMPerceptionで使われていないフィールドやスクリプトを削除する時のメモ</h2><p>FileMakerで開発をしていて…</p><p>「この使ってなさそうなフィールド削除したいけど、どこかで使われていたら困るから、消せないな…」</p><p>なんてことはありませんか？</p><p>そうですよね。ありますよね。</p><p>そんな時、あなたはどうしてますか？</p><p>一般的な<strong>FileMaker開発者</strong>でしたら、**DDR(データベースデザインレポート)**をエクスポートして、分析ツールを使っていますよね。</p><h2 id=サードパーティの分析ツール>サードパーティの分析ツール</h2><p>有名なツールを以下に。</p><ul><li><a href=https://www.geistinteractive.com/products/fmperception-fast-filemaker-analysis/>FMPerception</a></li><li><a href=http://www.baseelements.com/>BaseElements</a></li><li><a href=https://www.beezwax.net/products/inspector-pro/>InspectorPro</a></li></ul><p>ちなみに、私は<a href=https://www.geistinteractive.com/products/fmperception-fast-filemaker-analysis/>FMPerception</a>と、<a href=http://www.baseelements.com/>BaseElements</a>を使っています。</p><h2 id=分析ツールを使ってできること>分析ツールを使ってできること</h2><ul><li>(名前の通り)ファイルの分析</li><li>分析ツールに取り込んだスクリプトやフィールドを、ファイルメーカーにコピペできる</li><li>ファイル間の差分を確認できる</li></ul><p>個人的には、分析とファイルの差分が大きいと思っています。</p><p>ファイルの差分を知るためにも、頻繁にDDRをエクスポートしています。</p><h2 id=ファイルの差分を確認するためのツールを作りました>ファイルの差分を確認するためのツールを作りました</h2><p><a href=https://www.geistinteractive.com/products/fmperception-fast-filemaker-analysis/>FMPerception</a>を使っているので、自分のために差分を見やすくするためのツールを作りました。</p><p><img src=./fmperception-unreferenced-3.webp alt=FMPerception title=FMPerception></p><p><a href=https://github.com/frudens/fmperception-diff-viewer>fmperception-diff-viewer</a></p><p>よければ、つかってください。</p><h2 id=削除する時に注意すること>削除する時に注意すること</h2><p>さて、本題です…</p><p>FMPerceptionは優秀なので、どこからも使われていない(未参照)レイアウトやフィールドは<code>Unreferenced Objects</code>を見ればわかります。</p><p><img src=./fmperception-unreferenced-1.webp alt=FMPerception title=FMPerception></p><p>ここの画面で確認し「参照されていないから、削除だ！」とやってしまうと、以下のようなケースでエラーが発生する可能性があります。</p><h2 id=エラーになるケース>エラーになるケース</h2><ul><li>名前を指定して実行する系のスクリプトステップを、ハードコードしている場合</li><li>ファイルをまたいで参照されているが、参照しているファイルのDDRをエクスポートしていない場合</li></ul><p>ここも一般的な開発者であれば<code>カスタム関数</code>をつかったり、<code>GetFieldName ( fieldName )</code>などを使うと思いますが…</p><p>ということで…</p><p>削除する際には、</p><ul><li><strong>関連するファイルのDDRをすべてエクスポートすること</strong></li><li><strong>削除するオブジェクトの名称で、全文検索すること</strong></li></ul><p>をしてから、削除することをおすすめします。</p><p><img src=./fmperception-unreferenced-2.webp alt=FMPerception title=FMPerception></p></section></main></div><footer><div class=foot__inner><p class=copyright>Copyright © 2019-2021 Teruhiro Komaki <a href=https://twitter.com/trhrkmk>@trhrkmk</a></p></div></footer></div></body></html>