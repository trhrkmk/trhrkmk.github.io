<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Youtube Dl on HHKBは体の一部</title>
    <link>https://www.trhrkmk.com/tags/youtube-dl/</link>
    <description>Recent content in Youtube Dl on HHKBは体の一部</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>jp</language>
    <copyright>&amp;copy; &lt;a href=&#34;https://twitter.com/trhrkmk&#34;&gt;trhrkmk&lt;/a&gt; 2018</copyright>
    <lastBuildDate>Wed, 02 Jan 2019 11:14:10 +0900</lastBuildDate>
    
	<atom:link href="https://www.trhrkmk.com/tags/youtube-dl/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title>youtube-dlを使ってプレイリストを一括ダウンロードした</title>
      <link>https://www.trhrkmk.com/posts/download-youtube-dl-playlist/</link>
      <pubDate>Wed, 02 Jan 2019 11:14:10 +0900</pubDate>
      
      <guid>https://www.trhrkmk.com/posts/download-youtube-dl-playlist/</guid>
      <description>先日、Youtubeの動画をダウンロードしてmp3に変換するシェルスクリプトを作ったという記事を書きました。
しかし、プレイリストを一括でダウンロードしたいと思い、youtube-dlを使って一括ダウンロードを試みましたのでメモ。
youtube-dl まずはyoutube-dl(https://rg3.github.io/youtube-dl/)を使えるようにします。
詳細はREADME.mdをみてください。
シェルスクリプト1 シンプルに1曲のみダウンロードするためのシェルスクリプトを作りました。
ファイル名はお任せ。
youtube-dl.shなど
chmodも忘れずに。
Gistからダウンロード (cmd) /var/tmp $ curl -o youtube-dl.sh &amp;quot;https://gist.githubusercontent.com/teruhirokomaki/8f0333c35cb8aa1ba8692a25a8a04336/raw/6d53ea298f6c2e5dde2f5de1949f76747ec48fa3/youtube-dl.sh&amp;quot;  補足 最初はv=YOUTUBEIDのYOUTUBEIDを引数として使っていましたが、一括ダウンロードの途中で、エラーになってしまいました。
URLを確認するとhttps://www.youtube.com/watch?v=-FyjEnoIgTMとなっており、引数が-FyjEnoIgTMとなることが原因でした。
ということで、URLを引数にするように修正しました。
#!/usr/bin/env bash set -Ceuo pipefail # set youtube id from param YOUTUBEID=&amp;quot;$1&amp;quot; if [ x$YOUTUBEID = &amp;quot;x&amp;quot; ]; then echo &amp;quot;Youtube id is required.&amp;quot; exit 1 fi # set url YDLURL=&amp;quot;https://www.youtube.com/watch?v=$YOUTUBEID&amp;quot; # set music dir MUSICDIR=&amp;quot;$HOME/Music/cmus&amp;quot; # mkdir music dir if [ ! -d $MUSICDIR ]; then mkdir -p $MUSICDIR fi # get filename YDLGETFILENAME=$(youtube-dl --get-filename --restrict-filenames -o &#39;%(creator)s/%(title)s.</description>
    </item>
    
  </channel>
</rss>